<!--
/*
 * 
 * WordPres版微信小程序
 * author: jianbo
 * organization: 守望轩  www.watch-life.net
 * github:    https://github.com/iamxjb/winxin-app-watch-life.net
 * 技术支持微信号：iamxjb
 * 开源协议：MIT
 * Copyright (c) 2017 https://www.watch-life.net All rights reserved.
 *
 */-->
<import src="../../templates/articlesList.wxml" />
<import src="../../templates/copyright.wxml" />

<scroll-view style="height:100%;" scroll-y="true" lower-threshold="100rpx">
	<!-- 分类查看 -->
    <view class="topic-common-list" style="display:{{isCategoryPage}}">
		<view class="topic-content-title">
			<text>{{category.name}}</text>
		</view>
		<view class="topic-content-brief">
			<text>{{category.description}}</text>
		</view>
    </view>
	<!-- 搜索结果 -->
    <view class="topic-common-list" style="display:{{isSearchPage}}">
		<view class="topic-content-title">
			<text>搜索关键字：</text>
			<text class="searchKey">{{searchKey}}</text>
		</view>
		<view class="topic-content-brief">
			<text>本搜索是全文搜索</text>
		</view>
    </view>

	<view class="container">
		<view class="showerror" style="display:{{showerror}}">
			<view class="errortext">暂时无法访问网络</view>
		</view>

		<view style="display:{{showallDisplay}}">

			<!-- 文章列表模板 -->
			<template is="articlesList" data="{{postsList}}" />
			
			<view class="loadMore">
				<view hidden="{{isLastPage}}">
					<button class="more-button" size="mini" bindtap="loadMore">加载更多</button>
				</view>
				<view class="no-more" hidden="{{!isLastPage}}">无更多文章</view>
			</view>
		</view>
		
		<template is="tempCopyright" />
	</view>
</scroll-view>
